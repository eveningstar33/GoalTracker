<h1>Goal</h1>

<div class="container">
  <div class="alert alert-warning" *ngIf="goalForm.dirty && goalForm.invalid">Enter valid values</div>
  <div class="alert alert-warning" *ngIf="goalForm.dirty && description.invalid">Enter valid description</div>
  <div class="alert alert-warning" *ngIf="goalForm.dirty && targetDate.invalid">Enter valid target date</div>
  <!-- #goalForm is a reference to this entire form-->
  <form (ngSubmit)="!goalForm.invalid && saveGoal()" #goalForm="ngForm">
    <!-- Only if the form is valid then go ahead and save the goal -->
    <fieldset class="form-group">
      <label>Description</label>
      <input 
        type="text" 
        #description="ngModel"
        [(ngModel)]="goal.description" 
        class="form-control" 
        name="description" 
        required="required">
    </fieldset>

    <fieldset class="form-group">
      <label>Target Date</label>
      <input 
        type="date" 
        #targetDate="ngModel"
        [ngModel]="goal.targetDate | date:'yyyy-MM-dd'" 
        (ngModelChange)="goal.targetDate = $event"
        class="form-control" 
        name="targetDate" 
        required="required">
    </fieldset>

    <button type="submit" class="btn btn-success">Save</button>
  </form>
</div>